!function(e){if(console.log("hellooo from filters.js"),"yes"==e("#latest-additions-container").attr("data-exists")){let t=e("#latest-additions-container"),s=new Array,n=new Array,a=new Array,l=new Array,o=new Array(s,n,a,l);e.getJSON(dariaData.root_url+"/wp-json/daria/v1/search",e=>{e.sort(function(e,t){return new Date(t.date)-new Date(e.date)}),console.log(e),console.log(e[0].title);for(let t=0;t<4;t++)o[t].push(e[t].image),o[t].push(e[t].title),o[t].push(e[t].price);console.log(o),t.html(`\n        <ul class ='latest-additions'>\n            ${o.map(e=>`<li class="latest-additions-item">\n                    <img src = ${e[0]} width="150px" height="150px">\n                    <a href="">${e[2]}</a>\n                    $${e[3]} CAD\n                </li>`).join("")}\n        </ul>`)})}function t(e,t){var s=e.value.split(","),n=s.indexOf(t);-1!=n&&(s.splice(n,1),e.value=s.join(","))}e("#filter-btn").on("click",function(){e(".filter-dropdown dd ul").slideToggle("fast")}),e(document).bind("click",function(t){e(t.target).parents().hasClass("filter-dropdown")||e(".filter-dropdown dd ul").hide()});var s=[];function n(n){n=this instanceof HTMLInputElement?this:n;let a=[];var l,o,i,r;if(0!=n.classList.contains("reserved"))return alert("This seat is reserved!\nPlease select another seat"),void t(document.getElementById("seats"),n.value);n.classList.toggle("selected")?(o=document.getElementById("seats"),i=n.value,""==(r=o.value.split(",")).join()&&(r=[]),-1==r.indexOf(i)&&(r.push(i),r=r.sort(),o.value=r.join(",")),e(".seat").each(function(){this!=n?null==l&&this.classList.contains("selected")?(l=this,a.push(l),s=a.slice()):l&&this.classList.contains("selected")&&(a.push(this),s=a.slice()):(a.push(this),s=a.slice())}),s.length):t(document.getElementById("seats"),n.value)}for(var a=document.getElementsByClassName("seat"),l=0,o=a.length;l<o;l++)a[l].onclick=n;e("#filter-btn-interior").on("click",()=>{e.ajax({beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",dariaData.nonce)},url:dariaData.root_url+"/wp-json/daria/v1/search",type:"GET",success:e=>{console.log(e),console.log(s);let n=[],a=[],l=["calmness","fertility","focus","prosperity","positivity","love","enlightenment","healing","peace","abundance"],o=["moonstone","rose quartz","quartz","lapis","amethyst","feldspar","amazonite","agate","rutilated quartz","Garnet"];s.forEach(function(e){let t=e.value.toLowerCase();"seat selected"===e.className&&l.includes(t)&&n.push(t)}),s.forEach(function(e){let t=e.value.toLowerCase();"seat selected"===e.className&&o.includes(t)&&a.push(t)}),t(document.getElementById("seats"),""),console.log(n),console.log(a),e.map(e=>{let t=e.tags.energy,s=e.tags.gemstone;n.every(e=>t.indexOf(e)>-1)&&a.every(e=>s.indexOf(e)>-1)&&console.log(e.title)})},error:e=>{console.log("try again"),console.log(e)}})}),e("#filter-btn-interior-close").on("click",()=>{})}(jQuery);